services:
  raiko-zk:
    image: nethermind.jfrog.io/core-oci-local-staging/raiko-zk:v2
    container_name: raiko-zk
    network_mode: host
    env_file:
      - .env
    environment:
      ZK: "true"
      SP1_PLONK_CIRCUIT_PATH: "${HOME}/.sp1/circuits/plonk"
    runtime: nvidia
    privileged: true
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ../host/config:/etc/config
      - /tmp:/tmp
    depends_on:
      - redis
  redis-zk:
    image: redis
    container_name: redis-zk
    ports:
      - "6379:6379"